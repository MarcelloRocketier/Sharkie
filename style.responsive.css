@media (max-width: 992px){
  .nav { display: none; }

  #mobile-ctrl-left,
  #mobile-ctrl-right {
    display: block !important;
    z-index: 60;
  }

  #mobile-ctrl-left { bottom: 64px; left: 16px; position: fixed; }
  #mobile-ctrl-right { bottom: 64px; right: 16px; position: fixed; }

  .mobile-controller-container-left {
    position: fixed;
    bottom: 72px;
    left: 16px;
    z-index: 60;
    display: grid;
    grid-template-columns: auto auto auto;
    grid-template-rows: auto auto auto;
    grid-template-areas:
      ". up ."
      "left . right"
      ". down .";
    gap: 12px;
    align-items: center;
    justify-items: center;
  }

  .mobile-controller-container-left > :first-child {
    grid-area: up;
  }

  .mobile-controller-container-left > .mobile-controller-x-control {
    display: contents;
  }
  .mobile-controller-container-left > .mobile-controller-x-control > :first-child { grid-area: left; }
  .mobile-controller-container-left > .mobile-controller-x-control > :last-child  { grid-area: right; }

  .mobile-controller-container-left > :last-child {
    grid-area: down;
  }

  .mobile-controller-container-left .mobile-ctrl-btn {
    width: clamp(64px, 13vmin, 84px);
    height: clamp(64px, 13vmin, 84px);
  }

  .ctrl-arrow-img { width: 28px; height: auto; opacity: .95; }

  .mobile-controller-container-right {
    position: fixed;
    bottom: 72px;
    right: 16px;
    z-index: 60;
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
  }

  .mobile-controller-container-right .mobile-ctrl-btn {
    width: clamp(64px, 13vmin, 84px);
    height: clamp(64px, 13vmin, 84px);
  }

  .mobile-controller-container-left .mobile-ctrl-btn {
    width: clamp(56px, 12vmin, 72px);
    height: clamp(56px, 12vmin, 72px);
  }

  .ctrl-arrow-img { width: 26px; height: auto; opacity: .9; }
}

@media (hover: none) and (pointer: coarse) {
  /* Containers */
  #mobile-controls,
  #mobile-ctrl-left,
  #mobile-ctrl-right,
  .mobile-controller-container-left,
  .mobile-controller-container-right {
    display: block !important; 
    z-index: 60;
  }

  #ctrl-btn-up,
  #ctrl-btn-right,
  #ctrl-btn-down,
  #ctrl-btn-left,
  #ctrl-btn-fin-slap,
  #ctrl-btn-bubble-trap,
  #ctrl-btn-poison-bubble-trap {
    display: inline-flex !important;
  }

  #mobile-ctrl-left { position: fixed; bottom: 64px; left: 16px; }
  #mobile-ctrl-right { position: fixed; bottom: 64px; right: 16px; }
}

@media (orientation: portrait) and (max-width: 992px) {
  #landscape-message {
    display: flex !important;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 9999;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 24px;
    font-size: clamp(18px, 5vw, 28px);
    line-height: 1.4;
    color: white;
    word-break: break-word;
  }
}

@media (max-width: 768px) {
  .game-title { font-size: 52px; }
  .start-screen-title { font-size: 48px; }
  .loading-text { font-size: 42px; }

  .btn {
    font-size: clamp(16px, 4vw, 28px);
    padding: 10px 16px;
  }

  .nav-btn, .close-btn {
    width: 48px;
    height: 48px;
    padding: 12px;
  }

  .nav-icon { width: 28px; height: 28px; }

  .mobile-controller-container-left {
    bottom: 24px;
    left: 16px;
    gap: 6px;
  }

  .mobile-controller-x-control { gap: 32px; }
}

@media (max-width: 576px) {
  .game-title { font-size: 36px; }
  .start-screen-title { font-size: 32px; }
  .loading-text { font-size: 28px; }

  .btn {
    font-size: clamp(14px, 4vw, 22px);
    padding: 8px 14px;
  }

  .nav-btn, .close-btn {
    width: 40px;
    height: 40px;
    padding: 10px;
  }

  .nav-icon { width: 24px; height: 24px; }

  .mobile-ctrl-btn {
    width: clamp(36px, 10vmin, 56px);
    height: clamp(36px, 10vmin, 56px);
  }

  .mobile-controller-x-control { gap: 24px; }
}

@media (hover: none) and (pointer: coarse) and (min-width: 820px) {

  .mobile-controller-container-left .mobile-ctrl-btn,
  .mobile-controller-container-right .mobile-ctrl-btn {
    width: 72px;              
    height: 72px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .ctrl-arrow-img {
    width: 30px;
    height: 30px;          
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    transform: translateZ(0);  
  }

  .mobile-controller-container-left { gap: 10px; }
  .mobile-controller-x-control { gap: 36px; }
}